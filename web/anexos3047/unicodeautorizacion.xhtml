<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">    
    <h:head>
        <title>Unico de Autorización</title>
        <link href="../recursos/css/estilos.css" rel="stylesheet"/>        
        <link href="../recursos/css/metro-bootstrap.css" rel="stylesheet"/>
        <link href="../recursos/css/iconFont.css" rel="stylesheet"/> 
        <script type="text/javascript" src="../recursos/js/calendario.js"></script> 
        <script type="text/javascript">
            $(document).keypress(
                    function (event) {
                        if (event.which == '13') {
                            event.preventDefault();
                        }


                    });
        </script>
    </h:head>
    <h:body>
        <h:form id="IdFormRegistroClinico">  
            <p:growl id="IdMensajeRefContra"  showDetail="true" sticky="false" autoUpdate="true" life="2000"/>

            <table style="margin-left: auto; margin-right: auto;" >

                <tr>
                    <table>
                        <tr><td colspan="2"><h2>FORMATO UNICO DE AUTORIZACION DE SERVICIOS DE SALUD</h2></td></tr>                                

                        <tr>
                            <td style="background-color: #eaecfe;" >
                                <p:outputLabel value="ENTIDAD RESPONSABLE DEL PAGO" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="CODIGO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td> 
                        </tr>
                        <tr>
                            <td>
                                <p:inputText readonly="true" styleClass="width1"     value="#{historiasMB.pacienteSeleccionado.idAdministradora.razonSocial}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td>
                                <p:inputText readonly="true"  styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.idAdministradora.codigoAdministradora} #{historiasMB.empresa.telefono2}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>

                        </tr>                        

                        <tr><td colspan="2"><h2>INFORMACION DEL PRESTADOR (Autorizado)</h2></td></tr>   
                        <tr>
                            <td  style="background-color: #eaecfe;">
                                <p:outputLabel   value="NOMBRE:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">    
                                <p:outputLabel   value="NIT:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="CODIGO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="TELEFONO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>

                        </tr>
                        <tr>
                            <td>
                                <p:inputText readonly="true" styleClass="width1"     value="#{historiasMB.empresa.razonSocial}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.empresa.numIdentificacion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.empresa.codEmpresa}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"  value="#{historiasMB.empresa.telefono1} #{historiasMB.empresa.telefono2}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>                            
                        </tr>
                        <tr>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="DIRECCION:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>

                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="DEPARTAMENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="MUNICIPIO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>    
                        </tr>
                        <tr> 
                            <td>
                                <p:inputText readonly="true" styleClass="width1"     value="#{historiasMB.empresa.direccion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"  value="#{historiasMB.empresa.codDepartamento.descripcion} #{historiasMB.empresa.codDepartamento.codigo} "  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.empresa.codMunicipio.descripcion} #{historiasMB.empresa.codMunicipio.codigo}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>                  
                            </td> 
                        </tr>

                        <tr><td colspan="2"><h2>DATOS DEL PACIENTE</h2></td></tr>   

                        <tr>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="PRIMER APELLIDO" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="SEGUNDO APELLIDO" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="PRIMER NOMBRE" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="SEGUNDO NOMBRE" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>                                        
                        </tr>
                        <tr>
                            <td>
                                <p:inputText readonly="true" styleClass="width1"       value="#{historiasMB.pacienteSeleccionado.primerApellido}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.segundoApellido}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>   
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.primerNombre}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.segundoNombre}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                            </td>
                        </tr>
                        <tr>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="DOCUMENTO IDENTIFICACION:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="NUMERO DOCUMENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="FECHA DE NACIMIENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="TELEFONO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>  
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="CELULAR" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>  

                        </tr>
                        <tr>
                            <td>
                                <p:inputText readonly="true" styleClass="width1"      value="#{historiasMB.pacienteSeleccionado.tipoIdentificacion.descripcion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.identificacion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.fechaNacimiento}"  rendered="#{historiasMB.hayPacienteSeleccionado}">
                                    <f:convertDateTime parent="yyyy-mm-dd"/>
                                </p:inputText>
                            </td>                                        
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.telefonoResidencia}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>                                                                    
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.celular}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>                                                                    
                        </tr>
                        <tr>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="DIRECCION DE HABITACION:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="DEPARTAMENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="MUNICIPIO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="COBERTURA EN SALUD" rendered="#{historiasMB.hayPacienteSeleccionado}"/>                                
                            </td>
                            <td style="background-color: #eaecfe;">
                                <p:outputLabel   value="CORREO ELECTRONICO" rendered="#{historiasMB.hayPacienteSeleccionado}"/>                                
                            </td>

                        </tr>
                        <tr>
                            <td>
                                <p:inputText readonly="true" styleClass="width1"       value="#{historiasMB.pacienteSeleccionado.direccion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.departamento.descripcion} #{historiasMB.pacienteSeleccionado.departamento.codigo} "  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td>
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.municipio.descripcion} #{historiasMB.pacienteSeleccionado.municipio.codigo}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td >
                                <p:inputText readonly="true" styleClass="labelFormulario"      value="#{historiasMB.pacienteSeleccionado.regimen}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>
                            <td >
                                <p:inputText readonly="true" styleClass="labelFormulario"      value=" #{historiasMB.pacienteSeleccionado.email}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                            </td>

                        </tr>
                    </table>
                </tr>
                <tr><td colspan="2"><h2>SERVICIOS AUTORIZADOS</h2></td></tr>   
                <table>
                    <tr><td>&nbsp;</td></tr>
                    <tr>
                        <td ><p:outputLabel  value="Ubicación del Paciente al momento de la solicitud de autorizacion"  /></td>
                        <td>
                            <p:selectOneMenu styleClass="campoFormulario"   value="#{manejarAnexos3047MB.nuevoAnexo4.idubicacionpaciente}">
                                <f:selectItem itemLabel="" itemValue=""/>
                                <f:selectItem itemLabel="1-CONSULTA EXTERNA" itemValue="1" />
                                <f:selectItem itemLabel="2-URGENCIAS" itemValue="2" />
                                <f:selectItem itemLabel="3-HOSPITALIZACION" itemValue="3" />
                            </p:selectOneMenu>
                        </td>
                    </tr>
                    <tr>
                        <td ><p:outputLabel value="SERVICIO"  /></td>
                        <td ><p:outputLabel value="CAMA"  /></td>
                    </tr>
                    <tr>
                        <td>
                            <p:focus for="IdFocus7" />
                            <p:selectOneMenu id="IdFocus7" style="width: 315px;" value="#{manejarAnexos3047MB.nuevoAnexo4.idservicio}" filter="true" filterMatchMode="contains" converter="omnifaces.SelectItemsConverter">
                                <f:selectItem itemLabel="" itemValue=""/>
                                <f:selectItems value="#{manejarAnexos3047MB.listaEspecialidades}" var="especialidad" itemLabel="#{especialidad.descripcion}" />
                            </p:selectOneMenu>         
                        </td>    
                        <td>
                            <p:inputText  style="width: 95px;" value="#{manejarAnexos3047MB.nuevoAnexo4.idcama}" />
                        </td>
                    </tr>
                </table>
                <tr><td>&nbsp;</td></tr>
                <tr>
                    <table>
                        <tr>
                            <td colspan="2"><p:outputLabel value="Manejo Integral segun Guía de : "  />
                                <p:inputText  styleClass="width1" value="#{manejarAnexos3047MB.nuevoAnexo4.manejoguia}" />
                            </td>
                        </tr>
                        <tr><td>&nbsp;</td></tr>
                    </table>
                    <p:panel id="ingresarcups" style="width: 1030px;" >
                        <p:panelGrid columns="5">
                            <p:outputLabel value="CODIGO CUPS"/>
                            <p:autoComplete id="codcup" size="80" value="#{manejarAnexos3047MB.cups1}" completeMethod="#{manejarAnexos3047MB.autocompletarServicio}" forceSelection="true"/>
                            <p:outputLabel  value="CANTIDAD"/>
                            <p:inputText id="cantcup" value="#{manejarAnexos3047MB.cantidad}" required="true" size="10" /> 
                            <p:commandButton value="Anexar" icon="ui-icon-plusthick"  action="#{manejarAnexos3047MB.anexarCups4()}" update="listado,ingresarcups" />      
                        </p:panelGrid>
                    </p:panel>
                    <p:panel style="width: 1030px;">
                        <p:dataTable id="listado" widgetVar="listadoreq" value="#{manejarAnexos3047MB.listarequerimiento1}" 
                                     var="req" emptyMessage="No hay servicios para mostrar" 
                                     style="width: 1000px;">
                            <p:column style="text-align: center" headerText="Codigo CUPS" >
                                #{req.idServicio.codigoCup} 
                            </p:column>
                            <p:column style="width:70%"  headerText="Descripcion ">
                                #{req.idServicio.nombreServicio} 
                            </p:column>
                            <p:column style="text-align: center" headerText="Cantidad">
                                #{req.cantidad} 
                            </p:column >
                            <p:column style="text-align: center" headerText="Eliminar" >
                                <p:commandLink value="Eliminar" actionListener="#{manejarAnexos3047MB.eliminar1(req)}" styleClass="text-ouputfact" update="listado"  />
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </tr>
                <tr>
                    <table>                            
                        <tr><td>&nbsp;</td></tr>
                        <tr><td>&nbsp;</td></tr>
                        <tr>
                            <td><p:outputLabel value="NUMERO DE SOLICITUD DE ORIGEN"  /></td>
                            <td><p:inputText  styleClass="width1" value="#{manejarAnexos3047MB.nuevoAnexo4.numerosolicitudorigen}"  /></td>                    
                            <td><p:outputLabel value="FEHA-HORA"  /></td>
                            <td><p:calendar navigator="true" locale="es" value="#{manejarAnexos3047MB.nuevoAnexo4.fechasolicitudorigen}" pattern="dd/MM/yyyy HH:mm:ss" mask="true" size="23" style="width: 150px;" /></td>
                        </tr>
                        <tr><td>&nbsp;</td></tr>
                    </table>
                </tr>
            </table>
            <tr><td colspan="2"><h2>PAGOS COMPARTIDOS</h2></td></tr> 

            <tr> 
                <td colspan="2">
                    <p:panel id="variacion" style="width:900px" >
                        <table>
                            <tr>
                                <td colspan="2">
                                    <p:outputLabel value="Porcentaje del Valor de los Servicios de esta Autorización a pagar por la entidad responsable del pago:"  />
                                </td>
                                <td>
                                    <p:inputText  style="width: 95px;" value="#{manejarAnexos3047MB.nuevoAnexo4.porcentajegeneralasumido}" />
                                </td>
                            </tr>    
                        </table>
                        <table>
                            <tr>
                                <td colspan="2">
                                    <p:outputLabel value="Reclamo de tiquete, bono o vale de pago:"  />
                                </td>
                                <td>
                                    <p:selectBooleanCheckbox id= "bono" value="#{manejarAnexos3047MB.nuevoAnexo4.reclamotiquete}" />
                                </td>
                            </tr>
                        </table>    
                        <table>
                            <tr>
                                <td style="width: 206px"><p:outputLabel value="CONCEPTO"  /></td>    
                                <td style="width: 206px" ><p:outputLabel value="VALOR EN PESOS"  /></td>                                        
                                <td style="width: 206px"><p:outputLabel value="PORCENTAJE %"  /></td>                                        
                                <td style="width: 206px"><p:outputLabel value="Valor máximo (Tope) Pesos"  /></td>                                        
                            </tr>
                            <tr>
                                <td style="background-color: #eaecfe;">
                                    <p:selectBooleanCheckbox id= "papell" value="#{manejarAnexos3047MB.coutam}">
                                        <p:ajax update="variacion" />
                                    </p:selectBooleanCheckbox>
                                    <p:outputLabel for="papell" value="   CUOTA MODERADORA" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valorcuotam}"  rendered="#{manejarAnexos3047MB.coutam}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.porcentajecuotam}"  rendered="#{manejarAnexos3047MB.coutam}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valormaxcuotam}"  rendered="#{manejarAnexos3047MB.coutam}" />
                                </td>
                            </tr>
                            <tr>
                                <td style="background-color: #eaecfe;">
                                    <p:selectBooleanCheckbox id= "sapell" value="#{manejarAnexos3047MB.copago}">
                                        <p:ajax update="variacion" />
                                    </p:selectBooleanCheckbox>
                                    <p:outputLabel for="sapell" value="    COPAGO" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valorcopago}"  rendered="#{manejarAnexos3047MB.copago}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.porcentajecopago}"  rendered="#{manejarAnexos3047MB.copago}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valormaxcopago}"  rendered="#{manejarAnexos3047MB.copago}" />
                                </td>
                            </tr>    
                            <tr>
                                <td style="background-color: #eaecfe;">
                                    <p:selectBooleanCheckbox id= "pnomb" value="#{manejarAnexos3047MB.coutar}">
                                        <p:ajax update="variacion" />
                                    </p:selectBooleanCheckbox>
                                    <p:outputLabel for="pnomb" value="    CUOTA DE RECUPERACION" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valorcuotar}"  rendered="#{manejarAnexos3047MB.coutar}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.porcentajecuotar}"  rendered="#{manejarAnexos3047MB.coutar}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valormaxcuotam}"  rendered="#{manejarAnexos3047MB.coutar}" />
                                </td>
                            </tr>  
                            <tr>
                                <td style="background-color: #eaecfe;">
                                    <p:selectBooleanCheckbox id= "snomb" value="#{manejarAnexos3047MB.coutaotro}">
                                        <p:ajax update="variacion" />
                                    </p:selectBooleanCheckbox>
                                    <p:outputLabel for="snomb" value="    OTRO" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valorotro}"  rendered="#{manejarAnexos3047MB.coutaotro}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.porcentajeotro}"  rendered="#{manejarAnexos3047MB.coutaotro}" />
                                </td>
                                <td>
                                    <p:inputText  styleClass="width3" value="#{manejarAnexos3047MB.nuevoAnexo4.valormaxotro}"  rendered="#{manejarAnexos3047MB.coutaotro}" />
                                </td>
                            </tr>  

                        </table>
                    </p:panel>
                </td>
            </tr>
            <!--//////////////-->

            <table>
                <tr><td>&nbsp;</td></tr>
                <tr><td colspan="2"><h2>INFORMACION DE LA PERSONA DE LA ENTIDAD RESPONSABLE DEL PAGO QUE AUTORIZA</h2></td></tr> 
                <tr>
                    <td><p:outputLabel value="NOMBRE DE QUIEN AUTORIZA"  /></td>
                </tr>
                <tr>
                    <td><p:inputText styleClass="width1" value="#{manejarAnexos3047MB.nuevoAnexo4.nombreautoriza}"/></td>
                </tr>
                <tr><td><p:outputLabel value="CARGO"  /></td></tr>
                <tr>
                    <td><p:inputText id="cargo" styleClass="width1" value="#{manejarAnexos3047MB.nuevoAnexo4.cargoautoriza}"/></td>
                </tr>
            </table>
            <table>
                <tr>
                    <td style="width: 95px;" ><p:outputLabel value="TELEFONO"  /></td>
                </tr>
                <tr>
                    <td style="width: 95px;"><p:outputLabel value="Indicativo"/></td>
                    <td style="width: 95px;"><p:outputLabel value="Número"/></td>
                    <td style="width: 95px;"><p:outputLabel value="Extensión"/></td>
                </tr>
                <tr>
                    <td><p:inputText  style="width: 95px;"  value="#{manejarAnexos3047MB.nuevoAnexo4.indicativotelefono}"/></td>
                    <td><p:inputText  style="width: 95px;"  value="#{manejarAnexos3047MB.nuevoAnexo4.numerotelefono}"/></td>
                    <td><p:inputText  style="width: 95px;" value="#{manejarAnexos3047MB.nuevoAnexo4.extensiontelefono}"/></td>                        
                </tr>
                <tr>
                    <td><p:outputLabel value="CELULAR"  /></td>
                </tr>
                <tr>
                    <td><p:outputLabel value="Indicativo"/></td>
                    <td><p:outputLabel value="Número"/></td>
                    <td><p:outputLabel value="Extensión"/></td>
                </tr>
                <tr>
                    <td><p:inputText   style="width: 95px;" value="#{manejarAnexos3047MB.nuevoAnexo4.indicativocelular}"/></td>
                    <td><p:inputText   style="width: 95px;" value="#{manejarAnexos3047MB.nuevoAnexo4.numerocelular}"/></td>
                    <td><p:inputText   style="width: 95px;" value="#{manejarAnexos3047MB.nuevoAnexo4.extensioncelular}"/></td>                        
                </tr>
            </table>
            <table>
                <tr><td>&nbsp;</td></tr>
                <tr><td colspan="2"><h2>INFORMACION DE LA PERSONA DE LA IPS RECEPTORA QUE ACEPTA RECIBIR AL PACIENTE</h2></td></tr> 
                <tr>
                    <td><p:outputLabel value="NOMBRE DE QUIEN ACEPTA LA REMISION"  /></td>
                </tr>
                <tr>
                    <td>
                        <p:selectOneMenu style="width: 315px;" value="#{manejarAnexos3047MB.nuevoAnexo4.idUsuario}" filter="true" filterMatchMode="contains" converter="omnifaces.SelectItemsConverter">                            
                            <p:ajax event="change" listener="#{historiasMB.cambiaMedico}" update="IdEspecialidad,telef"/>
                            <f:selectItem itemLabel="" itemValue=""/>
                            <f:selectItems value="#{manejarAnexos3047MB.listaUsuarios}" var="p" itemLabel="#{p.primerNombre} #{p.segundoNombre} #{p.primerApellido} #{p.segundoApellido}" />
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr><td><p:outputLabel value="CARGO"/></td></tr>
                <tr>
                    <td><p:inputText id="IdEspecialidad" readonly="true" styleClass="width1" value="#{manejarAnexos3047MB.nuevoAnexo4.idUsuario.especialidad.descripcion}"/></td>
                </tr>
                <tr><td><p:outputLabel value="TELEFONO"/></td></tr>
                <tr>
                    <td><p:inputText id="telef" readonly="true" styleClass="width1" value="#{manejarAnexos3047MB.nuevoAnexo4.idUsuario.telefonoOficina}"/></td>
                </tr>
                <tr><td>&nbsp;</td></tr>
                <tr><td>&nbsp;</td></tr>

            </table>

            <tr>
                <td colspan="2">
                    <p:commandButton icon="ui-icon-disk" value="Guardar Nuevo Anexo" 
                                     actionListener="#{manejarAnexos3047MB.guardarAnexo4()}" 
                                     disabled="#{manejarAnexos3047MB.nuevoregistro==0 ? true:false}" update="@form ,IdMensajeRefContra" />
                    <p:commandButton icon="ui-icon-arrowthickstop-1-s" value="Actualizar Registro" 
                                     actionListener="#{manejarAnexos3047MB.guardarAnexo4()}" 
                                     disabled="#{manejarAnexos3047MB.actualizarregistro==0 ? true:false}" update="@form ,IdMensajeRefContra" />
                    <p:commandButton icon="ui-icon-document" value="Limpiar Formulario" 
                                     actionListener="#{manejarAnexos3047MB.btnLimpiarFormulario()}" update="@form ,IdFormRegistroClinico"/>
                    <p:commandButton id="printButtom"  type="submit" icon="ui-icon-print"   value="Imprimir Anexo4" actionListener="#{manejarAnexos3047MB.verAnexo4()}" ajax="false" onclick="form.target = '_blank'" rendered="#{manejarAnexos3047MB.inprimirregistro}"/>

                </td>
            </tr>
            <p:dialog id="IdTextosDlgPredefinidos" header="TEXTOS PREDEFINIDOS" width="645" widgetVar="dlgTextosPredefinidos" resizable="false" closable="true" modal="true">                                
                <p:panelGrid styleClass="panelGridSinBordes" id="IdPanelTextosPredefinidos">
                    <p:row>
                        <p:column>
                            <p:outputLabel   styleClass="labelFormulario" style="width: 60px;" value="Categoría: "/>
                            <p:selectOneMenu styleClass="campoFormulario" style="width: 220px;" value="#{historiasMB.idMaestroTextoPredef}" >
                                <f:ajax event="change" listener="#{historiasMB.cambiaMaestro}" render="IdComboTextosPredefinidos IdEditorTextoPredefinido IdNombrePredefinido"/> 
                                <f:selectItem itemLabel="" itemValue=""/>
                                <f:selectItems value="#{historiasMB.listaMaestrosTxtPredefinidos}" var="maestro" itemValue="#{maestro.idMaestro}" itemLabel="#{maestro.nombre}"/>
                            </p:selectOneMenu>
                            <p:outputLabel   styleClass="labelFormulario" style="width: 60px;" value="Predefinidos: "/>
                            <p:selectOneMenu styleClass="campoFormulario" style="width: 220px;" id="IdComboTextosPredefinidos"  value="#{historiasMB.idTextoPredef}" >
                                <f:ajax 
                                    event="change"
                                    listener="#{historiasMB.cambiaTextoPredefinido}"                                                
                                    render="IdEditorTextoPredefinido IdNombrePredefinido"/>                                 
                                <f:selectItems value="#{historiasMB.listaTxtPredefinidos}" var="texto" itemValue="#{texto.idTxtPredefinido}" itemLabel="#{texto.nombre}"/>
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel styleClass="labelFormulario" value="Nombre: " style="width: 60px;"/>
                            <p:inputText   styleClass="campoFormulario" id="IdNombrePredefinido" size="39" value="#{historiasMB.nombreTextoPredefinido}"/>                                                    
                            <p:commandButton icon="ui-icon-circle-arrow-s" title="Usar seleccionado"    actionListener="#{historiasMB.usarTextoPredefinido}"/>
                            <p:commandButton icon="ui-icon-disk"           title="Guardar/Actualizar"   actionListener="#{historiasMB.guardarTextoPredefinido}" />            
                            <p:commandButton icon="ui-icon-trash"          title="Eliminar predefinido" id="IdBtnEliminarPredefinido"/>                                        
                            <p:overlayPanel for="IdBtnEliminarPredefinido" widgetVar="opEliminarPredefinido">
                                <p:outputLabel   styleClass="labelFormulario" value="¿Confirma la eliminación?  "/>
                                <p:commandButton value="Si" title="Crear nueva categoría" actionListener="#{historiasMB.eliminarPredefinido}" oncomplete="PF('opEliminarPredefinido').hide();"/>                        
                            </p:overlayPanel> 
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:editor id="IdEditorTextoPredefinido" value="#{historiasMB.detalleTextoPredef}" widgetVar="editorWidget" width="600" controls="bold italic underline font size bullets numbering alignleft center alignright justify undo redo"/>
                        </p:column>
                    </p:row>

                </p:panelGrid>             
            </p:dialog>
            <br/>
        </h:form>        
    </h:body>
</html>
